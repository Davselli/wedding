<!DOCTYPE html>
<html>
<head>
    <title>ICS File Download</title>
</head>
<body>
    <button id="downloadButton">Download ICS File FINALE 4</button>

    <script>
        document.getElementById("downloadButton").addEventListener("click", function () {
            const isAndroid = /Android/i.test(navigator.userAgent);
            const userLanguage = navigator.language.toLowerCase();
            const icsData = `BEGIN:VCALENDAR
PRODID:-//Google Inc//Google Calendar 70.9054//EN
VERSION:2.0
CALSCALE:GREGORIAN
METHOD:PUBLISH
X-WR-TIMEZONE:Europe/Dublin
BEGIN:VEVENT
DTSTART:20240608T150000Z
DTEND:20240609T010000Z
DTSTAMP:20231001T091729Z
UID:7107l38qaongbrtd0ah1fsmib8@google.com
CLASS:PUBLIC
CREATED:20230425T125949Z
LAST-MODIFIED:20231001T091720Z
LOCATION:Frontemare\, Viale Lungomare del Golfo\, 150\, 09045 Quartu Sant'Elena CA\, Italy
SEQUENCE:2
STATUS:CONFIRMED
SUMMARY:Matrimonio Davide & Simona
TRANSP:TRANSPARENT
BEGIN:VALARM
ACTION:DISPLAY
TRIGGER:-P0DT0H5M0S
DESCRIPTION:This is an event reminder
END:VALARM
BEGIN:VALARM
ACTION:DISPLAY
TRIGGER:-P7D
DESCRIPTION:This is an event reminder
END:VALARM
END:VEVENT
END:VCALENDAR`;


const blob = new Blob([icsData], { type: "text/calendar;charset=utf-8" });
            const url = window.URL.createObjectURL(blob);

            const a = document.createElement("a");
            a.href = url;
            a.download = "event.ics";
            document.body.appendChild(a);
            a.click();

            window.URL.revokeObjectURL(url);

            if (isAndroid) {
                if (userLanguage.includes('it')) {
                    alert("Per aggiungere questo evento al tuo calendario, dovresti avere Google Calendar o una app compatibile.");
                } else {
                    alert("To add this event to your calendar, you must have Google Calendar or a compatible app.");
                }
            }
        });
    </script>
</body>
</html>
